/* 使用最高权重确保样式不被覆盖 */
html body #__gather_subtitles_container__ {
    position: fixed !important;
    left: 50% !important;
    bottom: 8% !important;
    transform: translateX(-50%) !important;
    max-width: 70vw !important;
    max-height: 40vh !important;
    overflow-y: auto !important;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC", "Noto Sans CJK", Arial, sans-serif !important;
    z-index: 2147483647 !important;
    padding: 8px 12px !important;
    background: rgba(0,0,0,0.8) !important;
    border-radius: 10px !important;
    backdrop-filter: saturate(150%) blur(6px) !important;
    pointer-events: none !important;
    border: 2px solid rgba(255,255,255,0.1) !important;
    visibility: visible !important;
    display: block !important;
    opacity: 1 !important;
    margin: 0 !important;
    min-height: 0 !important;
    min-width: 0 !important;
    width: auto !important;
    height: auto !important;
}

/* YouTube特殊覆盖 */
#page-manager #__gather_subtitles_container__,
ytd-app #__gather_subtitles_container__,
#movie_player #__gather_subtitles_container__ {
    position: fixed !important;
    z-index: 2147483647 !important;
    visibility: visible !important;
    display: block !important;
}

html body #__gather_subtitles_container__ .subtitle-line {
    margin: 6px 0 !important;
    line-height: 1.3 !important;
    color: #fff !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.7) !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    background: rgba(0,0,0,0.6) !important;
    padding: 12px 16px !important;
    border-radius: 8px !important;
    border: 1px solid rgba(255,255,255,0.1) !important;
    animation: fadeIn 0.3s ease-in !important;
}

html body #__gather_subtitles_container__ .subtitle-line .zh { 
    font-size: 22px !important; 
    font-weight: 500 !important;
    color: #fff !important;
    margin: 0 !important;
    display: block !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.9) !important;
    line-height: 1.5 !important;
    text-align: center !important;
    letter-spacing: 0.5px !important;
}

/* 字幕开关按钮样式 */
html body #__gather_subtitles_toggle__ {
    position: fixed !important;
    right: 20px !important;
    bottom: 20px !important;
    width: 50px !important;
    height: 50px !important;
    background: rgba(0, 0, 0, 0.8) !important;
    border-radius: 25px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    z-index: 2147483648 !important;
    border: 2px solid rgba(255, 255, 255, 0.2) !important;
    backdrop-filter: saturate(150%) blur(6px) !important;
    transition: all 0.3s ease !important;
    font-size: 24px !important;
    user-select: none !important;
    pointer-events: auto !important;
    visibility: visible !important;
    opacity: 1 !important;
}

html body #__gather_subtitles_toggle__:hover {
    background: rgba(0, 0, 0, 0.9) !important;
    border-color: rgba(255, 255, 255, 0.4) !important;
    transform: scale(1.1) !important;
}

html body #__gather_subtitles_toggle__:active {
    transform: scale(0.95) !important;
}

/* 字幕动画效果 */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}

/* 历史字幕样式 */
html body #__gather_subtitles_container__ .subtitle-line.history {
    background: rgba(0,0,0,0.5) !important;
    opacity: 0.8 !important;
    border: 1px solid rgba(255,255,255,0.08) !important;
    margin: 4px 0 !important;
    padding: 8px 12px !important;
}

html body #__gather_subtitles_container__ .subtitle-line.history:first-child {
    opacity: 0.6 !important;
    background: rgba(0,0,0,0.4) !important;
}

/* 当前字幕样式增强 */
html body #__gather_subtitles_container__ .subtitle-line.current {
    background: rgba(0,0,0,0.7) !important;
    opacity: 1 !important;
    border: 1px solid rgba(255,255,255,0.15) !important;
    margin: 8px 0 !important;
    padding: 12px 16px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
}

/* 字幕容器调整以支持多行显示 */
html body #__gather_subtitles_container__ {
    max-height: 50vh !important;
    overflow-y: auto !important;
}

/* 部分结果字幕样式 */
html body #__gather_subtitles_container__ .subtitle-line.partial {
    background: rgba(0,0,0,0.65) !important;
    border: 2px dashed rgba(255,255,255,0.3) !important;
    opacity: 1 !important;
    margin: 8px 0 !important;
    padding: 12px 16px !important;
    box-shadow: 0 0 10px rgba(255,255,255,0.1) !important;
}

/* 部分结果脉搏动画 */
@keyframes pulse {
    0% {
        opacity: 0.9;
        box-shadow: 0 0 10px rgba(255,255,255,0.1);
    }
    100% {
        opacity: 1;
        box-shadow: 0 0 15px rgba(255,255,255,0.2);
        border-color: rgba(255,255,255,0.4);
    }
}

/* 当前最终结果字幕样式增强 */
html body #__gather_subtitles_container__ .subtitle-line.current {
    background: rgba(0,0,0,0.7) !important;
    opacity: 1 !important;
    border: 1px solid rgba(255,255,255,0.15) !important;
    margin: 8px 0 !important;
    padding: 12px 16px !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
    animation: fadeIn 0.3s ease-in !important;
}
  